# Kubernetes Job/Pod仕様

> **概要**: kerutaシステムで利用するKubernetes Job/Podの基本仕様、起動コマンド、リソース制限、セキュリティ設定などのポイントをまとめたドキュメントです。

## ベースイメージ
- デフォルトでは、管理パネルまたは設定で指定されたDockerイメージを使用します。
- イメージはタスク実行に必要なアプリケーションやランタイムが含まれている必要があります。

## 起動コマンド
- タスクごとに指定されたコマンドまたはエントリポイントでPodが起動します。
- コマンドや引数は、タスク情報や設定から動的に指定可能です。

## 環境変数
- タスク情報（id, title, description, priority, status, createdAt, updatedAt）は環境変数として渡されます（詳細は「環境変数マッピング」参照）。

## マウント・ボリューム
- 必要に応じて、永続ボリュームや一時ボリュームをマウントできます（例：成果物の保存や一時ファイルの利用）。

## リソース制限
- CPUやメモリのリソースリクエスト・リミットは、デフォルト値またはタスクごとに指定可能です。

## セキュリティ
- 必要に応じてServiceAccountやRBAC、Secretsを利用し、最小権限で実行されます。

## ログ
- Jobにより生成されたPodの標準出力・標準エラーはKubernetesのPodログとして取得できます。

## 終了条件
- タスクが完了するとPodは自動的に終了し、Jobも完了状態となります。
- Jobの終了コードや状態はタスクの成否判定に利用されます。
- Jobに紐づくPodが `CrashLoopBackOff` などの異常状態になり、長時間その状態が続いた場合、実行の失敗として処理されます。 